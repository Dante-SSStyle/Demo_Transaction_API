# Тестовое задание 
### Формулировка задачи

Напишите код приложения для Diango (Python 3), в котором у пользователей (пользователей в системе может быть очень много) есть помимо основных полей 2 дополнительных: ИНН (уникально, ИНН может начинаться с нуля) и счет (в рублях, с точностью до копеек). Также есть форма состоящая из полей (в приоритете использование REST API или же чистый Django):
* Выпадающий список со всеми пользователями в системе с возможностью выбора пользователя, со счета которого нужно перевести деньги
* Поле для ввода одного или нескольких ИНН пользователей, на счета которых будут переведены деньги
* Поле для указания какую сумму нужно перевести с одного счета на другие Необходимо проверять есть ли достаточная сумма у пользователя, со счета которого списываются средства, и есть ли пользователи с указанным ИНН в БД. При валидности введенных данных необходимо указанную сумму списать со счета указанного пользователя и перевести на счета пользователей с указанным инН в равных частях (если переводится 60 рублей 10ти пользователям, то каждому попадет 6 рублей на счет).

Обязательно наличие unit-тестов. Требуется реализовать только бэк. Фронт и шаблоны можно не настраивать. Код в приватном репозитории.

### Первоначальная настройка 
#### Создание виртуального окружения (здесь использовал virtualenv)
В директории проекта:
* Установка virtualenv: <code>sudo pip install virtualenv</code>
* Создание окружения: <code>virtualenv --python=usr/bin/python3.10} venv</code>
  * Если путь к python отличается, подставляем нужный в _--python=_ 
* Активация окружения: <code>source venv/bin/activate</code>
* Установка необходимых пакетов: <code>pip install -r requirements.txt</code>

#### База данных
Я использовал postgreSQL в докере. Если нужно использовать обычный sqlite3, то можно зайти в _Demo_Transaction_API/settings.py_ и далее в настройкe DATABASES:
* Раскомментировать настройку для sqlite3 (оставил её в настройках специально)
* Закомментировать аналогичную настройку для postgres

Если используем postgres:
* В директории проекта запускаем контейнер для БД: <code>sudo docker compose up</code>

#### Миграции
* Запуск миграций: <code>python manage.py migrate</code>
* В инит коммите для пользователей я уже прописал создание суперюзера, **суперюзер admin создастся автоматически**. Создавать суперюзера через комманду Django не обязательно.
    * логин: admin
    * пароль: admin
    
### Запуск
* Если используем postgres, контейнер с базой должен работать (<code>sudo docker compose up</code>)
* Запуск приложения: <code>python manage.py runserver</code>

**Проверить функционал и форму можно по адресу: _http://localhost:8000/users/transaction/_**

### Тесты
* Запуск тестов: <code>python manage.py test Client/tests</code>
